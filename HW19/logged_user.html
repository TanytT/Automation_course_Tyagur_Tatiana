<!DOCTYPE html>

<html>
    <head>
        <meta charset="UTF-8">
        <link rel = "stylesheet" type = "text/css" href="style.css" />
        <title>
            HW19
        </title>
    </head>
    <body>
        
        <div>
            <table id = "table1">
                <col style="width:20%">
                <col style="width:60%">
                <col style="width:20%">
                <tr>
                    <td colspan="3" id = "td_id1">
                        <div id= "p_top">
                            <img src="folder.jpg" alt = "folder">
                                Файловое хранилище v 0.01 (потеряй свои файлы красиво! ;))
                            <img src="folder.jpg" alt = "folder">
                        </div>
                    </td>
                </tr>
                <tr>
                    <td colspan="3" id = "td_id2">
                        <div id= "p_2">Вы вошли в систему как <b>Иванов Иван Иванович.</b>
                            <a href="./index.html" target="_blank"> Выйти.</a>                        
                        </div>
                    </td>
                </tr>
                <tr>
                    <td class = "col">
                        <div id="p_3"><b>Можно загружать:</b><br>
                            ZIP: (до 20 Mb);<br>
                            DOCX (до 40 Mb);<br>
                            PPTX (до 50 Mb);<br>
                            <b>Использовано</b><br>
                            27.34 Mb из 100.00 Mb
                        </div>
                    </td>
                    <td>
                        <div>
                            <table id="table3">
                                <tr class="tr_pointer">
                                    <th onclick="sortTable(0)">Файл</th>
                                    <th onclick="sortTable(1)">Размер (Kb)</th>
                                    <th onclick="sortTable(2)">Дата и время</th>
                                    <th>Удалить</th>
                                 </tr>
                                 <tr>
                                    <td><a href="" target="_blank">
                                        <p>Этот архив с русским именем.zip</p></a></td>
                                    <td>                             
                                        <p>132.22</p></td>
                                    <td><p>2014.02.28 18:01:15</p></td>
                                    <td><a href="" target="_blank">Удалить</a></td>
                                 </tr>
                                 <tr>
                                    <td><a href="" target="_blank">
                                        <p>_www_app.zip</p></a></td>
                                    <td><p>132.45</p></td>
                                    <td><p>2014.02.28 18:24:54</p></td>
                                    <td><a href="" target="_blank">Удалить</a></td>
                                 </tr>

                            </table>
                        </div>
                        <div id = "frame1">
                                <div id = "p_4">
                                    Загрузить новый файл:<br>
                                    <button onclick="click_btn()">Выбрать</button><input type="text" id="pathname" name="pathname"><br>
                                    <button>Загрузить</button>
                                </div>
                        </div>
                        <div id = "frame2">
                                <div id = "p_5">
                                    Запросить с удаленного сервера:<br>
                                    <input type="text" id="pathname1" name="pathname1"><br>
                                    Поместить в хранилище:<input type = "checkbox" checked="checked"><br>
                                    <button>Запросить</button>
                                </div>
                        </div>
                    </td>
                    <td class="col"> 
                        <div id="div_id_2">
                            <h1>Статистика:</h1>
                            <div id="p_3">
                                Пользователей: 123 <br>
                                Файлов: 1234 <br>
                                Объем: 2345 Mb <br>
                                Объем / польз.: 45 Mb
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td id = "td_id4" colspan="3">
                        <p> &copy;2020, HILLEL Training</p>
                    </td>
                </tr>
            </table>
        </div>

        <script>
            function click_btn(){
                var input = document.createElement('input');
                input.type = 'file';
                input.click();
            }
            
            function sortTable(n) {
              var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;
              table = document.getElementById("table3");
              switching = true;
              dir = "asc";
              while (switching) {
                switching = false;
                rows = table.getElementsByTagName("tr");
                for (i = 1; i < (rows.length - 1); i++) {
                  shouldSwitch = false;
                  x = rows[i].getElementsByTagName("td")[n];
                  y = rows[i + 1].getElementsByTagName("td")[n];
                  if (dir == "asc") {
                    if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {
                      shouldSwitch = true;
                      break;
                    }
                  } else if (dir == "desc") {
                    if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {
                      shouldSwitch = true;
                      break;
                    }
                  }
                }
                if (shouldSwitch) {
                  rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
                  switching = true;
                  switchcount ++;
                } else {
                  if (switchcount == 0 && dir == "asc") {
                    dir = "desc";
                    switching = true;
                  }
                }
              }
            }
        </script>
    </body>
</html>